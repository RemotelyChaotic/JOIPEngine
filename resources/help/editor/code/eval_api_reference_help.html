<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <title>Eval API Reference</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    h1 {
      text-align: center;
    }
    div.container {
      min-height: 10em;
      display: table-cell;
      margin-left: auto;
      margin-right: auto;
      width: 0.6em
    }
    table.warning {
      color: black;
      background-color: #cccc44;
      border-color: yellow;
      border-style: solid;
    }
  </style>
</head>


<body>
  <h1>Eval API Reference</h1>

  <hr>

  <table width="100%" class="warning">
    <tr>
      <td width="10%"><img src="qrc:/resources/help/icons/WarningIcon.png" width="64" height="64" alt="Warning"></td>
      <td width="90%"><br>This is the API of the <i>PlayerEval</i> object's <i>eval</i> function and the
      <a href="qrc:/resources/help/editor/code/eos_editor_help.html">EOS Editor's</a> <i>eval</i> function.<br>
      For general API help please visit the <a href="qrc:/resources/help/editor/code/script_reference_help.html">API Refernce</a> page.<br>
      All the code written in an <i>eval</i> will run in the <a href="qrc:/resources/help/layout/layout_help.html">Layout (UI Context)</a>.</td>
    </tr>
  </table>

  <br>

  <div class="container">
    <p>Below you can find a full script interface reference for the custom JavaScript objects registered
    by the JOIP-Engine. For general JavaScript reference please see:<br>
      <ul>
        <li><b>Qt-Script Reference:</b> <a href="https://doc.qt.io/qt-5/ecmascript.html">https://doc.qt.io/qt-5/ecmascript.html</a></li>
        <li><b>JavaScript Help:</b> <a href="https://www.w3schools.com/js/">https://www.w3schools.com/js/</a></li>
      </ul>
    </p>

    <br>

    <p>Javascript Objects are registered in the Player by the currently loaded
    <a href="qrc:/resources/help/layout/layout_help.html">Layout</a>. The name of the registered objects is defined in the layout file.
    In the reference below, the default names of the registered objects are listed.</p>

    <br>

    <h2>PlayerBackground (default name: <i>background</i>)</h2>

    <br>

    <p>This object is automatically registered by the JOIP-Engine on loading a
    <a href="qrc:/resources/help/project/joi_project_help.html">JOI-Project</a> but
    can also be placed in the <a href="qrc:/resources/help/layout/layout_help.html">Layout</a> manually. The default object is always registered
    under the name <i>background</i> and spans the entire background. It only has a few callable
    functions:<br>
      <ul>
        <li><b>setBackgroundColor ( string | int[3 | 4] ):</b><br>
        As the name implies, this will set the background color, which is overlayed over the
        background texture. The given argument can be an html-style color string ("#argb")
        or an array of 3 or 4 numbers ranging from 0 - 255
        representing red, green, blue and alpha in this order.<br>
        <i>Example Usage:</i><br>
        background.setBackgroundColor("#88ff0000"); /* will set background to a 50% transparent red */<br>
        background.setBackgroundColor("red"); /* will set background to a 0% transparent red */<br>
        background.setBackgroundColor([255, 0, 0, 128]); /* will set background to a 50% transparent red */<br>
        <br></li>

        <li><b>setBackgroundTexture ( string | null ):</b><br>
        As the name implies, this will set the background texture. The texture is repeated as often as
        neccessary to fill the entire object. The argument needs to be the name of a
        <a href="qrc:/resources/help/editor/resources/resource_help.html">Resource</a>.
        It also has to be of the <i>Image</i> type.
        A null argument will reset the background to the style-defined application background.<br>
        <i>Example Usage:</i><br>
        background.setBackgroundTexture("tiledBg");<br>
        background.setBackgroundTexture(null);<br>
        <br></li>
      </ul>
    </p>

    <br>

    <h2>PlayerIcons (default name: <i>icon</i>)</h2>

    <br>

    <p>This object is registered by the JOIP-Engine if it is present in the current <a href="qrc:/resources/help/layout/layout_help.html">Layout</a>.
    It is a container for a list of icons that can be shown or hidden at will.
    <br>
      <ul>
        <li><b>addIcon / showIcon ( string ):</b><br>
        This function will add a new icon to the list, where the resource argument will be the shown
        icon. The <a href="qrc:/resources/help/editor/resources/resource_help.html">Resource</a> has
        to be of the <i>Image</i> or <i>Movie</i> type and must be the name of a Resource or a resource.<br>
        <i>Example Usage:</i><br>
        icon.showIcon("myIcon");<br>
        <br></li>

        <li><b>removeIcon / hideIcon ( [ string ] ):</b><br>
        This function will remove the icon with the name given in the input. An empty input,
        no input or the input string: "~all" will remove all icons.<br>
        <i>Example Usage:</i><br>
        icon.hideIcon("myIcon"); // hides myIcon<br>
        icon.hideIcon(); // hides all icons<br>
        icon.hideIcon(""); // hides all icons<br>
        icon.hideIcon("~all"); // hides all icons<br>
        <br></li>

        <li><b>clearIcons ( string ):</b><br>
        This function will remove all icons.<br>
        <i>Example Usage:</i><br>
        icon.clearIcons(); // hides all icons<br>
        <br></li>
      </ul>
    </p>

    <br>

    <h2>PlayerMediaPlayer (default name: <i>mediaPlayer</i>)</h2>

    <br>

    <p>This object is registered by the JOIP-Engine if it is present in the current <a href="qrc:/resources/help/layout/layout_help.html">Layout</a>.
    This is the main way to display or play media <a href="qrc:/resources/help/editor/resources/resource_help.html">Resources</a>
    of types <i>Image</i>, <i>Movie</i> or <i>Sound</i>.<br>
      <ul>
        <li><b>showMedia ( string ):</b><br>
        This function shows an <i>Image</i> type Resource. Calling this will stop any
        currently running playback. The Resource must be the name of a Resource.<br>
        <i>Example Usage:</i><br>
        mediaPlayer.showMedia("myIcon");<br>
        <br></li>

        <li><b>playMedia / showOrPlayMedia ( [ string [, int [, int [, int] ] ] ] ):</b><br>
        This function plays a <i>Movie</i> or <i>Sound</i> type Resource.
        The second, third and forth arguments denote the number of loops, the start position and stop position of the media
        respectively. The default amount of loops is 1, the default start position is frame 0 and the default stop position is -1 for the last frame.
        If a loop count of -1 is given, the playback will loop infinitely.<br>
        The Resource input can be the name of a Resource, a Resource object obtained from the
        current Scene object of the custom id of a Sound Resource.<br>
        When playing a <i>Movie</i>, it will
        stop the currently running <i>Movie</i>.<br>
        When playing a <i>Sound</i>, it will try to either find the emiter, that has the <i>Sound</i>
        already loaded and resume or restart it or find an available sound emitter
        and play it. If there's no available sound emitters, it will not play the sound.
        The number of maximum available sound emitters can be
        configured in the <a href="qrc:/resources/help/editor/resources/resource_help.html">Project Settings</a>.
        The number describes the maximum number of Sound type Resources can play simultaniously.<br>
        When calling this without any argument, it will continue playing
        the last used <i>Movie</i> and all loaded <i>Sound</i> resources. This is provided
        for compatibility and should not be used. Use the specific functions instead.<br>
        <i>Example Usage:</i><br>
        mediaPlayer.playMedia("myVideoOrSound"); // plays myVideoOrSound<br>
        mediaPlayer.playMedia("mySound"); // continues or starts playing the sound Resource<br>
        mediaPlayer.playMedia(); // only for compatibility<br>
        mediaPlayer.playMedia("mySound", 2); // loop sound twice<br>
        mediaPlayer.playMedia("mySound", -1); // loop sound until stopped manually<br>
        mediaPlayer.playMedia("mySound", 1, 10); // starts "mysound" at frame 10 <br>
        mediaPlayer.playMedia("mySound", 1, 10, 100); // starts "mysound" at frame 10 and stops it at frame 100<br>
        <br></li>

        <li><b>playVideo ( ):</b><br>
        This function does the same as if you call <i>play</i> without arguments, but
        will only play the last played <i>Movie</i>.<br>
        <i>Example Usage:</i><br>
        mediaPlayer.playVideo(); // continues playing the last played movie<br>
        <br></li>

        <li><b>pauseVideo ( ):</b><br>
        This function will pause the currently playing <i>Movie</i> Resource. A paused <i>Movie</i>
        can never stop the wait in <i>waitForVideo</i> or <i>waitForPlayback</i> since the video
        is not considered finished yet.<br>
        <i>Example Usage:</i><br>
        mediaPlayer.pauseVideo(); // pauses playing the last played video<br>
        <br></li>

        <li><b>stopVideo (  ):</b><br>
        This function will stop the currently playing video Resource. A stopped <i>Movie</i>
        can never stop the wait in <i>waitForVideo</i> or <i>waitForPlayback</i> since the video
        is not considered finished yet.<br>
        <i>Example Usage:</i><br>
        mediaPlayer.stopVideo(); // stops playing the last played video<br>
        <br></li>

        <li><b>playSound ( [ string [, string [, int [, int] ] ] ] ):</b><br>
        This function does the same as if you call <i>play</i> with the selected arguments,
        but will not work play <i>Movie</i> type resources. The second argument is the exception
        to that. It describes the custom id the sound can be referenced with. If left empty, no id will be set.<br>
        <i>Example Usage:</i><br>
        mediaPlayer.playSound("mySound"); // continues or starts playing the sound Resource<br>
        mediaPlayer.playSound(); // continues playing all sounds sound<br>
        mediaPlayer.playSound("mySound", "id1"); // continues or starts playing the resource "mysound" and sets the id "id1"<br>
        mediaPlayer.playSound("mySound", "", 2); // continues or starts playing the resource "mysound", does not set the id and loops twice<br>
        mediaPlayer.playSound("mySound", "id1", 2); // continues or starts playing the resource "mysound", sets the id "id1" and loops twice<br>
        mediaPlayer.playSound("mySound", "", 1, 10); // starts "mysound" at frame 10 and does not set the id<br>
        <br></li>

        <li><b>pauseSound ( [ string ] ):</b><br>
        This function can be called with or without arguments. Calling it with arguments
        will pause the given <i>Sound</i> Resource. A paused <i>Sound</i>
        can never stop the wait in <i>waitForSound</i> or <i>waitForPlayback</i> since the sound
        is not considered finished yet.<br>
        Without arguments, it will pause all <i>Sound</i> Resource playbacks.
        The Resource input can be the name of a Resource, a Resource object obtained from the
        current Scene object of the custom id of a Sound Resource.<br>
        <i>Example Usage:</i><br>
        mediaPlayer.pauseSound("mySound"); // pauses playing the sound<br>
        mediaPlayer.pauseSound(); // pauses playing all sounds<br>
        <br></li>

        <li><b>stopSound ( [ string ] ):</b><br>
        This function can be called with or without arguments. Calling it with arguments
        will stop the given <i>Sound</i> Resource. A stopped <i>Sound</i>
        can never stop the wait in <i>waitForSound</i> or <i>waitForPlayback</i> since the sound
        is not considered finished yet.<br>
        Without arguments, it will stop all <i>Sound</i> Resource playbacks.
        The Resource input can be the name of a Resource, a Resource object obtained from the
        current Scene object of the custom id of a Sound Resource.<br>
        <i>Example Usage:</i><br>
        mediaPlayer.stopSound("mySound"); // stops playing the sound<br>
        mediaPlayer.stopSound(); // stops playing all sounds<br>
        <br></li>

        <li><b>seekMedia ( [ string ], int ):</b><br>
        This function can be called with one or two arguments. Calling it with one arguments
        will skip the currently playing <i>Movie</i> Resource to the given frame. With two arguments,
        it will skip the given <i>Sound</i> or <i>Movie</i> Resource to the given frame.
        The Resource input must be the name of a Resource or the custom id of a Sound Resource.<br>
        <i>Example Usage:</i><br>
        mediaPlayer.seekMedia(10); // skips the currently playing movie to frame 10 <br>
        mediaPlayer.seekMedia("mySound", 10); // skips "mySound" to frame 10<br>
        <br></li>

        <li><b>seekAudio ( ( string ), int ):</b><br>
        Does the same as <i>seekMedia</i> but only for a <i>Sound</i> type Resource.<br>
        <i>Example Usage:</i><br>
        mediaPlayer.seekMedia("mySound", 10); // skips "mySound" to frame 10<br>
        <br></li>

        <li><b>seekVideo ( int ):</b><br>
        Does the same as <i>seekMedia</i> but only for the currently playing <i>Movie</i> type Resource.<br>
        <i>Example Usage:</i><br>
        mediaPlayer.seekMedia(10); // skips the currently playing movie to frame 10<br>
        <br></li>

        <li><b>setVolume ( [ string ], double ):</b><br>
        Sets the volume of a currently playing <i>Movie</i> or <i>Sound</i> type Resource.<br>
        If no string argument is provided, the volume of all playing Resources will be modified.<br>
        The volume here is not an absolute value but multiplied with the engine's volume setting.<br>
        <i>Example Usage:</i><br>
        mediaPlayer.setVolume("myResource", 0.5); // volume of "myResource" will be set to 50% of the engine volume<br>
        <br></li>
      </ul>
    </p>

    <br>

    <h2>SoundManager (name: <i>Sound</i>)</h2>

    <br>

    <p>This object is registered by the JOIP-Engine if any media player is present in the Layout.
    It allows access to <i>Sound</i> type resources registered via id. It is provided for EOS
    compatibility.
    <br>
      <ul>
        <li><b>addEventListener ( "play" | "end" | "pause", function ):</b><br>
        Adds an event listener callback that is triggered when the corresponding event is
        dispatched. Only "play", "end" and "pause" events are dispatched to this object.
        <i>Example Usage:</i><br>
        Sound.get('example').addEventListener('play', function () {<br>
          console.log('The sound looped again!')<br>
        })<br>
        <br></li>

        <li><b>removeEventListener ( "play" | "end" | "pause", function ):</b><br>
        Removes a registered event listener.
        <i>Example Usage:</i><br>
        Sound.removeEventListener("play", myfunc);<br>
        <br></li>

        <li><b>get ( string ):</b><br>
        This function will fetch the Audio object wrapper for a <i>Sound</i> type Resource
        registered via id and return it.
        <i>Example Usage:</i><br>
        var myAudio = Sound.get("mySound");<br>
        <br></li>
      </ul>
    </p>

    <br>

    <h2>Audio</h2>

    <br>

    <p>This object represents a wrapped <i>Sound</i> Resource returned by <i>Sound.get</i>.
    This is <b>not</b> equal to a <i>Sound</i> Resource object. It is provided for EOS
    compatibility.
    <br>
      <ul>
        <li><b>play ( ):</b><br>
        Start or continue playing the audio clip.
        <i>Example Usage:</i><br>
        myAudio.play();<br>
        <br></li>

        <li><b>pause ( ):</b><br>
        Pause the audio clip.
        <i>Example Usage:</i><br>
        myAudio.pause();<br>
        <br></li>

        <li><b>stop ( ):</b><br>
        Stop the audio clip and rewind to the beginning.
        <i>Example Usage:</i><br>
        myAudio.stop();<br>
        <br></li>

        <li><b>seek ( real ):</b><br>
        Go to the specified position in the clip.<br>Does not affect the playback state.
        In other words, if the audio clip is playing, it will continue to play after seeking and if it was paused,
        it will still be paused.
        <i>Example Usage:</i><br>
        mySound.seek(20);<br>
        <br></li>

        <li><b>setVolume ( real ):</b><br>
        Set the volume of the audio clip.
        <i>Example Usage:</i><br>
        myAudio.setVolume(0.5);<br>
        <br></li>

        <li><b>destroy ( ):</b><br>
        Remove the audio clip from the id registry.<br>If you call this method,
        the clip will be deleted from the audio clip ID registry and you will no longer be
        able to retrieve it using the <i>Sound.get</i> method. The same as calling
        <i>Sound.deRregisterId</i>.
        <i>Example Usage:</i><br>
        myAudio.destroy();<br>
        <br></li>
      </ul>
    </p>

    <br>

    <h2>PlayerMetronome (default name: <i>metronome</i>)</h2>

    <br>

    <p>This object is registered by the JOIP-Engine if it is present in the current <a href="qrc:/resources/help/layout/layout_help.html">Layout</a>.
    It is a metronome, that will play a beat sound effect in a user-determined pattern with
    a certain frequency.
    <br>
      <ul>
        <li><b>setBpm ( int ):</b><br>
        This function will set the frequency of beats, or bpm (beats per minute).<br>
        <i>Example Usage:</i><br>
        metronome.setBpm(60);<br>
        <br></li>

        <li><b>setBeatResource ( string | null ):</b><br>
        This function will set the sound effect that is played on each beat reaching the center.
        The <a href="qrc:/resources/help/editor/resources/resource_help.html">Resource</a> can only
        be of the <i>Sound</i> type and can either be the name of a Resource or <i>null<i>.
        Calling the function with null will reset the sound effect to the default sound effect.<br>
        <i>Example Usage:</i><br>
        metronome.setBeatResource("myBeat");<br>
        metronome.setBeatResource(null);<br>
        <br></li>

        <li><b>setMuted ( boolean ):</b><br>
        This function is used to mute beat. When muted, the metronome will simply display visuals
        without playing a sound.<br>
        <i>Example Usage:</i><br>
        metronome.setMuted(true);<br>
        metronome.setMuted(false);<br>
        <br></li>

        <li><b>setPattern ( int[] ):</b><br>
        This function is used to set the pattern of the beat. This pattern will repeat until
        the metronome is playing and will determine, how the intervals between beats are streched.
        If this is called with an array of zero elements, the default pattern ( [1] ) will be set.<br>
        <i>Example Usage:</i><br>
        metronome.setPattern([1]); /* bpm of 60: default pattern; will make the metronome beat every second */<br>
        metronome.setPattern([1,2,2]); /* bpm of 60: will make the metronome beat after 1, 2 and 2 seconds (repeating pattern) */<br>
        metronome.setPattern([2,0.5,1]); /* bpm of 120: will make the metronome beat after 1, 0.25 and 0.5 seconds (repeating pattern) */<br>
        <br></li>

        <li><b>setVolume ( double ):</b><br>
        Sets the volume of the metronome.<br>
        The volume here is not an absolute value but multiplied with the engine's volume setting.<br>
        <i>Example Usage:</i><br>
        metronome.setVolume(0.5); // volume of the metronome will be set to 50% of the engine volume<br>
        <br></li>

        <li><b>start ( ):</b><br>
        This function will start the metronome. The metronome won't stop until <i>stop</i>
        is called explicitly. The first beat will play two seconds after starting the metronome.<br>
        <i>Example Usage:</i><br>
        metronome.start();<br>
        <br></li>

        <li><b>stop ( ):</b><br>
        This function will stop the currently running the metronome.<br>
        <i>Example Usage:</i><br>
        metronome.stop();<br>
        <br></li>
      </ul>
    </p>

    <br>

    <h2>TeaseStorage (name: <i>teaseStorage / localStorage</i>)</h2>

    <br>

    <p>This object is automatically registered by the JOIP-Engine on loading a
    <a href="qrc:/resources/help/project/joi_project_help.html">JOI-Project</a> and
    should not be placed in the <a href="qrc:/resources/help/layout/layout_help.html">Layout</a> manually. Similarly to the local storage of a browser,
    this object stores values that can be retrieved at any time.
    The storage will remain until the currently running
    <a href="qrc:/resources/help/project/joi_project_help.html">JOI-Project</a> finishes
    playing. Methods marked with <i>Extension</i> are not part of the EOS API.<br>
      <ul>
        <li><b>setItem / store ( string id, var value ):</b><br>
        Stores a value with the given id in the storage. Any value can be stored and loaded, even complex objects.<br>
        <i>Example Usage:</i><br>
        teaseStorage.setItem("value", 5);<br>
        <br></li>

        <li><b>storePersistent ( string id ):</b><br>
        Stores the value with the given id from the storage in a persistent save-file.<br>
        <i>Example Usage:</i><br>
        localStorage.store("value", 5); // store in storage<br>
        localStorage.storePersistent("value"); // persist the value<br>
        <br></li>

        <li><b>storeAchievement ( string id, [int | bool] value ):</b><br>
        Asigns the value given to the achievement with the given id.<br>
        Only accepts numerical values and bools.<br>
        <i>Example Usage:</i><br>
        localStorage.storeAchievement("Awesome Achievement", 5);<br>
        <br></li>

        <li><b>getItem / load ( string id ):</b><br>
        Loads a value with the given id from the storage. Any value can be stored and loaded, even complex objects.<br>
        <i>Example Usage:</i><br>
        var value = teaseStorage.getItem("value");<br>
        <br></li>

        <li><b>loadPersistent ( string id ):</b><br>
        Loads a value with the given id from the persistent save-file and writes it to storage.<br>
        <i>Example Usage:</i><br>
        localStorage.loadPersistent("value");<br>
        var value = localStorage.load("value");<br>
        <br></li>

        <li><b>loadAchievement ( string id ): value:</b><br>
        Reads the value of the achievement with the given id from the storage.<br>
        <i>Example Usage:</i><br>
        var value = localStorage.loadAchievement("Awesome Achievement");<br>
        <br></li>

        <li><b>removeItem ( string id ):</b> <i>Extension</i><br>
        Removes a value with the given id from the storage.<br>
        <i>Example Usage:</i><br>
        teaseStorage.removeItem("value");<br>
        <br></li>

        <li><b>removeData ( string id ):</b><br>
        Removes all data with the given id from the save-file. This can not be undone.<br>
        <i>Example Usage:</i><br>
        localStorage.removeData("value");<br>
        <br></li>
      </ul>
    </p>

    <br>

    <h2>PlayerTextBox (default name: <i>textBox</i>)</h2>

    <br>

    <p>This object is registered by the JOIP-Engine if it is present in the current <a href="qrc:/resources/help/layout/layout_help.html">Layout</a>.
    This is the main way to display text or receive player input.<br>
      <ul>
        <li><b>setBackgroundColors ( string[] | int[][3 | 4] ):</b><br>
        As the name implies, this will set the background color of elements in the text box.
        The given argument can be an array of html-style color strings ("#argb")
        or an array of arrays of 3 or 4 numbers ranging from 0 - 255
        representing red, green, blue and alpha in this order. The input takes an array of colors,
        since multiple buttons can be shown simultaniously and those need to be able to be colored
        individually.<br>
        <i>Example Usage:</i><br>
        textBox.setBackgroundColors(["#88ff0000", "red"]); /* will set background of text to a 50% transparent red.
        In case of two buttons the background of the first one will be 50% transparent red and the second will be 0% transparent red */<br>
        textBox.setBackgroundColors([[255, 0, 0, 128], [255, 0, 0]]); /* same as above example */<br>
        textBox.setBackgroundColors([[255, 0, 0, 128], "red"]); /* same as above example */<br>
        <br></li>

        <li><b>backgroundColors ( ):</b><br>
        Accessor method for the currently set background colors.
        </li>

        <li><b>setTextAlignment ( enum:TextAlignment  ):</b><br>
        This will set the text alignment of texts resulting from <i>showText</i> calls in the text box.
        Once set, all future <i>showText</i> calls will display text with the set alignment.
        The given argument needs to be one of the enum values: <i>TextAlignment.AlignLeft</i>,
        <i>TextAlignment.AlignRight</i>, <i>TextAlignment.AlignCenter</i> or their corresponding nummerical
        values (<i>1</i>, <i>2</i>, <i>4</i> respectively).<br>
        Changing the alignment will change the position of portraits set by <i>setTextPortrait</i>.<br>
        This will <b>not</b> influence calls to <i>showButtonPrompts</i> or <i>showInput</i>.<br>
        <i>Example Usage:</i><br>
        textBox.setTextAlignment(TextAlignment.AlignLeft); /* text will be left aligned with portraits to the right */<br>
        textBox.setTextAlignment(1); /* same as above */<br>
        textBox.setTextAlignment(TextAlignment.AlignRight); /* text will be right aligned with portraits to the left */<br>
        textBox.setTextAlignment(2); /* same as above */<br>
        textBox.setTextAlignment(TextAlignment.AlignCenter); /* text will be left aligned with portraits centered above the text */<br>
        textBox.setTextAlignment(4); /* same as above */<br>
        <br></li>

        <li><b>setTextColors ( string[] | int[][3 | 4] ):</b><br>
        As the name implies, this will set the text color of elements in the text box.
        The given argument can be an array of html-style color strings ("#argb")
        or an array of arrays of 3 or 4 numbers ranging from 0 - 255
        representing red, green, blue and alpha in this order. The input takes an array of colors,
        since multiple buttons can be shown simultaniously and those need to be able to be colored
        individually.<br>
        <i>Example Usage:</i><br>
        textBox.setTextColors(["#ffff0000", "green"]); /* will set text color to a 0% transparent red.
        In case of two buttons the text color of the first one will be 0% transparent red and the second will be 0% transparent green */<br>
        textBox.setTextColors([[255, 0, 0, 255], [0, 255, 0]]); /* same as above example */<br>
        textBox.setTextColors([[255, 0, 0, 255], "green"]); /* same as above example */<br>
        <br></li>

        <li><b>textColors ( ):</b><br>
        Accessor method for the currently set text colors.
        </li>

        <li><b>setTextPortrait ( string | null ):</b><br>
        This will set an <i>Image</i> or <i>Movie</i> type <a href="qrc:/resources/help/editor/resources/resource_help.html">Resource</a>
        to be shown besides text resulting from <i>showText</i> calls.
        The Resource can be the name of a Resource or null. Calling the function with null will
        remove the portraits from future texts resulting from <i>showText</i> calls.<br>
        <i>Example Usage:</i><br>
        textBox.setTextPortrait("myIcon");<br>
        <br></li>

        <li><b>showButtonPrompts ( string[] [, string varName, string id, bool ] ):</b><br>
        Shows a set of buttons. The array of input strings will be used for the button
        texts and the colors set by setBackgroundColors and setTextColors will be used for
        text and background coloring. This function blocks until the player clicks a
        button, upon which the index of the pressed button will be returned (the returned values
        are 0 indexed). It is possible to use a subset of html tags in the buton texts
        (see https://doc.qt.io/qt-5/richtext-html-subset.html for the supported subset).<br>
        The optional arguments determine if the input should be written to local storage. If set
        the result will be written into &lt;<i>varName</i>&gt;.<br>
        <i>Example Usage:</i><br>
        var choice = textBox.showButtonPrompts(["Yes","No"]); /* Will return 0 if the player presses "Yes" and 1 if the player presses "No". */<br>
        <br></li>

        <li><b>showInput ( [ string varName, string id, bool [, string defaultText ] ] ): string:</b><br>
        Shows a text input editor. The colors set by setBackgroundColors and setTextColors will be used for
        text and background coloring. This function blocks until the player enters a
        text, upon which the text will be returned.<br>
        The optional arguments determine if the input should be written to local storage. If set
        the result will be written into &lt;<i>varName</i>&gt;.<br>
        The optional last argument is the default value of the text field on creation. This signature
        differs from the <a href="qrc:/resources/help/editor/code/script_reference_help.html">API</a>,
        where the default text is the first argument. This is to make Eval-Scripts work with the EOS interface.<br>
        <i>Example Usage:</i><br>
        var input = textBox.showInput();<br>
        var input = textBox.showInput("", "storeVal", true); // store in storage<br>
        var input = textBox.showInput("storeVal", "", false); // store in var storeVal<br>
        var input = textBox.showInput("", "", false, "default");<br>
        <br></li>

        <li><b>showText ( string [, double [, bool ] ] ):</b><br>
        Shows text. The input string will be used for the text content and the first colors
        set by setBackgroundColors and setTextColors will be used for
        text and background coloring. It is always possible to use HTML 3.2 tags in text.
        If you need more, you can surround the text with &lt;html&gt;...&lt;/html&gt; to
        use a subset of html HTML 4 tags in the text (see
        https://doc.qt.io/qt-5/richtext-html-subset.html for the supported subset). This mode can also
        execute code in an &lt;eval&gt;&lt;/eval&gt; block to display inlined variable text.<br>
        The second argument is optional and denotes the time that the text should be visible for.
        If the second value is &lt; 0 the wait time will be automatically determined based on the number of characters
        in the text.<br>
        The third argument is also optional and is a flag if the wait should be skipable or not.<br>
        These two arguments are provided for convenience only and have the same effect as if
        </i>thread.sleep(...)</i> was called after the <i>showText</i> call.
        <i>Example Usage:</i><br>
        textBox.showText("Hello world!"); /* default text */<br>
        textBox.showText("Hello&lt;br&gt;world!"); /* Will insert a newline between Hello and world! */<br>
        textBox.showText(&lt;html&gt;&lt;span style='font-weight:bold;font-size:large'&gt;Settings&lt;/span&gt;&lt;/html&gt;); /*styled text*/<br>
        textBox.showText("Hello world!", -1); /* show Hello world for an automatically determined time (non-skippable)*/<br>
        textBox.showText("Hello world!", 10); /* show Hello world for 10 seconds (non-skippable)*/<br>
        textBox.showText("Hello world!", 10, true); /* show Hello world for 10 seconds (skippable)*/<br>
        <br></li>

        <li><b>clearTextBox (  ):</b><br>
        Clears the log of the textbox. This will not clear any previously set colors.<br>
        <i>Example Usage:</i><br>
        textBox.clear();<br>
        <br></li>
      </ul>
    </p>

    <br>

    <h2>PlayerTimer (default name: <i>timer</i>)</h2>

    <br>

    <p>This object is registered by the JOIP-Engine if it is present in the current <a href="qrc:/resources/help/layout/layout_help.html">Layout</a>.
    This object is for displaying a timer that can be shown or hidden on demand.<br>
      <ul>
        <li><b>hideTimer (  ):</b><br>
        Hides the timer completely, but does not stop any running timer.<br>
        <i>Example Usage:</i><br>
        timer.hide();<br>
        <br></li>

        <li><b>setTime ( real ):</b><br>
        Sets the counter of the timer to the input. The input is given in seconds. Setting
        the time during a running timer will reset the timer.<br>
        <i>Example Usage:</i><br>
        timer.setTime(120); /* Sets the timer to 2 min */<br>
        <br></li>

        <li><b>setTimeVisible ( bool ):</b><br>
        Sets the counter of the timer visible or invisible. A timer with an invisible counter
        will display a question mark instead of the remaining time. This setting will persist,
        even if the timer ends.<br>
        <i>Example Usage:</i><br>
        timer.setTimeVisible(true);<br>
        <br></li>

        <li><b>showTimer (  ):</b><br>
        Shows the timer, but does not stop any running timer.<br>
        <i>Example Usage:</i><br>
        timer.show();<br>
        <br></li>

        <li><b>startTimer (  ):</b><br>
        Starts the timer.<br>
        <i>Example Usage:</i><br>
        timer.start();<br>
        <br></li>

        <li><b>stopTimer (  ):</b><br>
        Stops the timer.<br>This counts as a finished timer.<br>
        <i>Example Usage:</i><br>
        timer.stop();<br>
        <br></li>

        <li><b>waitForTimer (  ):</b><br>
        Blocks and waits until the timer finishes. If no timer is running, this function will
        return immediately.<br>
        <i>Example Usage:</i><br>
        timer.waitForTimer();<br>
        <br></li>
      </ul>
    </p>

    <br>

    <h2>PlayerNotification (name: <i>notification</i>)</h2>

    <br>

    <p>This object is registered by the JOIP-Engine if it is present in the current <a href="qrc:/resources/help/layout/layout_help.html">Layout</a>.
    This object can be used to display asynchronous messages and buttons that can run an asynchronous script on click or timeout.<br>
      <ul>
        <li><b>clearNotifications ( ): </b><br>
        Clears all open notifications and does <i>not</i> call any associated scripts.<br>
        <i>Example Usage:</i><br>
        notification.clear();<br>
        <br></li>

        <li><b>removeNotificaiton ( string ): </b><br>
        The input to this function needs to be the string id of any open notification.
        This will hide the notification without calling any associated scripts.<br>
        <i>Example Usage:</i><br>
        notification.hide("myid"); // hides notification with id "myid"<br>
        <br></li>

        <li><b>setIconAlignment ( enum: IconAlignment ):</b><br>
        This will set the icon alignment of icons for notifications resulting from <i>show</i> calls.
        Once set, all future <i>show</i> calls will display the icon of the notification with the set alignment.
        The given argument needs to be one of the enum values: <i>IconAlignment.AlignLeft</i>,
        <i>IconAlignment.AlignRight</i> or their corresponding nummerical
        values (<i>1</i>, <i>2</i> respectively).<br>
        Changing the alignment will change the position of portraits set by <i>setPortrait</i> an the position
        of the timer set by <i>show</i>.<br>
        <i>Example Usage:</i><br>
        notification.setIconAlignment(IconAlignment.AlignLeft); /* portraits will be aligned to the right */<br>
        notification.setIconAlignment(1); /* same as above */<br>
        notification.setIconAlignment(IconAlignment.AlignRight); /* portraits will be aligned to the left */<br>
        notification.setIconAlignment(2); /* same as above */<br>
        <br></li>

        <li><b>setPortrait ( string | null ):</b><br>
        This will set an <i>Image</i> or <i>Movie</i> type <a href="qrc:/resources/help/editor/resources/resource_help.html">Resource</a>
        to be shown besides notifications resulting from <i>show</i> calls.
        The Resource must be the name of a Resource or null. Calling the function with null will
        remove the portraits from future <i>show</i> calls.<br>
        <i>Example Usage:</i><br>
        notification.setPortrait("myIcon");<br>
        <br></li>

        <li><b>showNotification ( string, string [, string [, double [, string | null [, string | null ] ] ] ] ): </b><br>
        Inputs to the function are (in the listed order):
        <ol>
          <li>The string id of the notification to be created</li>
          <li>The text in the notification (can be empty to create a notification without text)</li>
          <li>(optional) The button text. If not empty, the notification will display a clickable button.<br>
          If this argument is not provided, no button will be shown.</li>
          <li>(optional) The timeout time of the notification in seconds.<br>
          If not given or &lt; 0, the notification will never time out and the caller is responsible for hiding it.</li>
          <li>(optional) The script to be called on clicking the button.<br>
          The <a href="qrc:/resources/help/editor/resources/resource_help.html">Resource</a> can only
          be of the <i>Script</i> type and must be the name of a Resource or <i>null<i>.</li>
          <li>(optional) The script to be called on timeout.<br>
          The <a href="qrc:/resources/help/editor/resources/resource_help.html">Resource</a> can only
          be of the <i>Script</i> type and can either be the name of a Resource, a resource
          object obtained from the current Scene object or <i>null<i>.</li>
        </ol>
        This function will show a new notification with the provided id.
        If a notification of the given id already exists, the old notification will be hidden.
        The scripts can be of any script type (JS, Lua, EOS) or a Sequence.<br>
        <i>Example Usage:</i><br>
        notification.show("myid", ""); // shows a notification with the id "myid"<br>
        notification.show("myid", "MyTitle"); // shows a notification with the id "myid" and the text "MyTitle"<br>
        notification.show("myid", "MyTitle", 10); // shows a notification with the id "myid" and the text "MyTitle" for 10 seconds<br>
        notification.show("myid", "MyTitle", 10, "OnTimeoutScript"); // Will call OnTimeoutScript after 10 seconds<br>
        notification.show("myid", "MyTitle", "MyButton"); // shows text and button<br>
        notification.show("myid", "", "MyButton"); // shows only a button<br>
        notification.show("myid", "", "MyButton", 10); // shows only a button for 10 seconds<br>
        notification.show("myid", "", "MyButton"); // shows only a button for 10 seconds<br>
        notification.show("myid", "", "MyButton", "OnClickScript"); // On clicking the button will call OnClickScript<br>
        notification.show("myid", "", "MyButton", 10, "OnClickScript", "OnTimeoutScript"); // On timeout will call OnTimeoutScript<br>
        <br></li>

        <li><b>setTextBackgroundColor | setWidgetBackgroundColor ( string | int[3 | 4] ):</b><br>
        As the name implies, this will set the background color of elements in the notification box.
        The given argument can be an html-style color string ("#argb")
        or an array of 3 or 4 numbers ranging from 0 - 255
        representing red, green, blue and alpha in this order.<br>
        <i>Example Usage:</i><br>
        notification.setTextBackgroundColor("#88ff0000"); /* will set background of text to a 50% transparent red.
        In case of two buttons the background of the first one will be 50% transparent red and the second will be 0% transparent red */<br>
        notification.setTextBackgroundColor([255, 0, 0, 128]); /* same as above example */<br>
        notification.setTextBackgroundColor("red"); /* same as above example */<br>
        notification.setWidgetBackgroundColor("#88ff0000"); /* will set background of buttons to a 50% transparent red.
        In case of two buttons the background of the first one will be 50% transparent red and the second will be 0% transparent red */<br>
        notification.setWidgetBackgroundColor([255, 0, 0, 128]); /* same as above example */<br>
        notification.setWidgetBackgroundColor("red"); /* same as above example */<br>
        <br></li>

        <li><b>setTextColor | setWidgetColor ( string | int[3 | 4] ):</b><br>
        As the name implies, this will set the text color of elements in the notification box.
        The given argument can be an html-style color string ("#argb")
        or an array of 3 or 4 numbers ranging from 0 - 255
        representing red, green, blue and alpha in this order.<br>
        <i>Example Usage:</i><br>
        notification.setTextColor("#ffff0000"); /* will set text color to a 0% transparent red.
        In case of two buttons the text color of the first one will be 0% transparent red and the second will be 0% transparent green */<br>
        notification.setTextColor([255, 0, 0, 255]); /* same as above example */<br>
        notification.setTextColor("green"); /* same as above example */<br>
        notification.setWidgetColor("#ffff0000"); /* will set button text color to a 0% transparent red.
        In case of two buttons the text color of the first one will be 0% transparent red and the second will be 0% transparent green */<br>
        notification.setWidgetColor([255, 0, 0, 255]); /* same as above example */<br>
        notification.setWidgetColor("green"); /* same as above example */<br>
        <br></li>
      </ul>
    </p>

    <br>

    <h2>NotificationManager (name: <i>Notification</i>)</h2>

    <br>

    <p>This object is registered by the JOIP-Engine if any media PlayerNotification is present in the Layout.
    It allows access notifications and is provided for EOS compatibility.
    <br>
      <ul>
        <li><b>get ( string ):</b><br>
        This function will fetch the <i>Notification</i> object wrapper for an id and return it.
        <i>Example Usage:</i><br>
        var notification = Notification.get("myId");<br>
        <br></li>
      </ul>
    </p>

    <br>

    <h2>Notification</h2>

    <br>

    <p>This object represents a wrapped <i>Notification</i> returned by <i>Notification.get</i>.
    <br>
      <ul>
        <li><b>setTitle ( string ):</b><br>
        Change the notification title.
        <i>Example Usage:</i><br>
        notification.setTitle("newTitle");<br>
        <br></li>

        <li><b>remove ( ):</b><br>
        Remove the notification from the screen.
        <i>Example Usage:</i><br>
        notification.remove();<br>
        <br></li>
      </ul>
    </p>

    <br>

    <h2>PlayerSceneManager (name: <i>sceneManager</i>)</h2>

    <br>

    <p>This object is automatically registered by the JOIP-Engine on loading a
    <a href="qrc:/resources/help/project/joi_project_help.html">JOI-Project</a> and
    should not be placed in the <a href="qrc:/resources/help/layout/layout_help.html">Layout</a> manually.
    This object allows for finer control of the <a href="qrc:/resources/help/editor/nodes/nodeeditor_help.html">Scene Flow</a> of a project.
    Here you can skip to scenes and enable or disable scenes dynamically for the current run.<br>
      <ul>
        <li><b>disable ( string ):</b><br>
        The argument must be the string of a scene name. Calling this will disable the scene until it is re-enabled again.
        Scenes can be "enabled" or "disabled".
        Disabled scenes can not be run and will not show up in scene selections and when
        using a goto with a wildcard target, e.g. "page*",
        only enabled Scenes will be considered as possible targets.<br>
        <i>Example Usage:</i><br>
        sceneManager.disable("MyScene");<br>
        <br></li>

        <li><b>enable ( string ):</b><br>
        The argument must be the string of a scene name.
        Calling this will re-enable the scene again. All scenes are enabled by default.
        Disabled scenes can not be run and will not show up in scene selections and when
        using a goto with a wildcard target, e.g. "page*",
        only enabled Scenes will be considered as possible targets.<br>
        <i>Example Usage:</i><br>
        sceneManager.enable("MyScene");<br>
        <br></li>

        <li><b>goto ( string ):</b><br>
        The argument must be the string of a scene name.
        Calling this will end the currently running scene script and
        start running the requested scene script.<br>
        <i>Example Usage:</i><br>
        sceneManager.goto("MyScene");<br>
        <br></li>
      </ul>
    </p>

    <br>

    <h2>PlayerDeviceController (default name: <i>deviceController</i>)</h2>

    <br>

    <p>This object is automatically registered by the JOIP-Engine on loading a
    <a href="qrc:/resources/help/project/joi_project_help.html">JOI-Project</a> and
    should not be placed in the <a href="qrc:/resources/help/layout/layout_help.html">Layout</a> manually. This object can be used to
    control connected devices (sex toys).<br>
    Some commands may not be supported by some devices. and will have no effect.<br>
      <ul>
        <li><b>sendVibrateCmd ( real speed ):</b><br>
        Sends a vibrate command to start vibrating the device at the given speed.
        The range for speed is 0.0 - 1.0, where 1.0 is the full vibration strength.<br>
        <i>Example Usage:</i><br>
        deviceController.sendVibrateCmd(0.1);<br>
        <br></li>

        <li><b>sendLinearCmd ( real time, real speed ):</b><br>
        Sends a linear command to the device to start perfoming linear movements (usually thrusts)
        for a given amount of time (1. argument in seconds) at the given speed (2. argument from 0.0 - 1.0).<br>
        <i>Example Usage:</i><br>
        deviceController.sendLinearCmd(10, 0.1);<br>
        <br></li>

        <li><b>sendRotateCmd ( bool, real speed ):</b><br>
        Sends a rotation command to the device to start perfoming rotational movements
        in a given direction (1. argument, true = clockwise, false = counter-clockwise) at the given speed (2. argument from 0.0 - 1.0).<br>
        <i>Example Usage:</i><br>
        deviceController.sendRotateCmd(true, 0.1);<br>
        <br></li>

        <li><b>sendStopCmd (  ):</b><br>
        Sends the stop command to the device to stop all motion and vibration.<br>
        <i>Example Usage:</i><br>
        deviceController.sendStopCmd();<br>
        <br></li>
      </ul>
    </p>

    <br>

    <h2>PageManager (name: <i>pages</i>)</h2>

    <br>

    <p>This object is registered by the JOIP-Engine if any media PlayerSceneManager is present in the Layout.
    It allows access Scenes and is provided for EOS compatibility.
    <br>
      <ul>
        <li><b>addEventListener ( "change", function ):</b><br>
        Adds an event listener callback that is triggered when the corresponding event is
        dispatched. Only "change" events are dispatched to this object when the current Scene changes.
        <i>Example Usage:</i><br>
        pages.addEventListener('change', function () {<br>
          /* Do something*/<br>
        })<br>
        <br></li>

        <li><b>removeEventListener ( "change", function ):</b><br>
        Removes a registered event listener.
        <i>Example Usage:</i><br>
        pages.removeEventListener("change", myfunc);<br>
        <br></li>

        <li><b>goto / gotoScene ( string ):</b><br>
        The argument must be the string of a scene name.
        Calling this will end the currently running scene script and
        start running the requested scene script.<br>
        <i>Example Usage:</i><br>
        pages.goto("MyScene");<br>
        <br></li>

        <li><b>isEnabled ( string ):</b><br>
        Check if a given Scene is enabled.
        Disabled scenes can not be run and will not show up in scene selections and when
        using a goto with a wildcard target, e.g. "page*",
        only enabled Scenes will be considered as possible targets.<br>
        <i>Example Usage:</i><br>
        if (pages.isEnabled("myScene")) { /*Do something*/ }<br>
        <br></li>

        <li><b>disable ( string ):</b><br>
        The argument must be the string of a scene name. Calling this will disable the scene until it is re-enabled again.
        Scenes can be "enabled" or "disabled".
        Disabled scenes can not be run and will not show up in scene selections and when
        using a goto with a wildcard target, e.g. "page*",
        only enabled Scenes will be considered as possible targets.<br>
        <i>Example Usage:</i><br>
        pages.disable("MyScene");<br>
        <br></li>

        <li><b>enable ( string ):</b><br>
        The argument must be the string of a scene name.
        Calling this will re-enable the scene again. All scenes are enabled by default.
        Disabled scenes can not be run and will not show up in scene selections and when
        using a goto with a wildcard target, e.g. "page*",
        only enabled Scenes will be considered as possible targets.<br>
        <i>Example Usage:</i><br>
        pages.enable("MyScene");<br>
        <br></li>

        <li><b>getCurrentSceneId / getCurrentPageId ( ):</b><br>
        Return the ID of the current Scene.<br>
        <i>Example Usage:</i><br>
        var id = pages.getCurrentSceneId("myScene");<br>
        <br></li>
      </ul>
    </p>
  </div>
</body>

</html>
